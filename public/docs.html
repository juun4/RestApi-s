<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JunnAPIs â€¢ Docs</title>

  <!-- icons / theme -->
  <link rel="icon" type="image/png" href="https://cdn.yupra.my.id/yp/rpvaywxy.jpg">
  <link rel="apple-touch-icon" href="https://cdn.yupra.my.id/yp/rpvaywxy.jpg">
  <meta name="theme-color" content="#0b1020"/>

  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet"/>

  <style>
    :root{
      --bg:#0b1020; --surface:#0e1430; --card:#111736; --muted:#9aa4c7; --text:#e6ecff;
      --line:#1b2247; --pill:#2a3471; --acc:#7aa2ff; --acc2:#4ad295;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Arial;background:var(--bg);color:var(--text)}
    a{text-decoration:none;color:inherit;word-break:break-all}
    .wrap{max-width:min(900px,100vw - 32px);margin:0 auto;padding:24px}

    header{display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap;margin-bottom:20px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:34px;height:34px;border-radius:10px;object-fit:cover;border:1px solid #20306d}
    .brand h1{font-size:22px;margin:0}
    .tag{color:var(--muted);font-size:14px}
    .btn{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(90deg,var(--acc),var(--acc2));
      color:#04102a;padding:8px 12px;border-radius:10px;font-weight:700}

    /* ðŸŽµ PLAYER */
    .player-box{
      background:var(--surface);
      border:1px solid var(--line);
      border-radius:16px;
      box-shadow:0 8px 28px rgba(0,0,0,.25);
      padding:14px 16px;
      margin-bottom:22px;
      display:flex;
      align-items:center;
      gap:14px;
      position:relative;
      overflow:hidden;
    }
    .player-box::before{
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(90deg,var(--acc) 0%,var(--acc2) 100%);
      opacity:.15;
      filter:blur(60px);
      z-index:0;
    }
    .player-cover{
      width:64px;height:64px;border-radius:12px;object-fit:cover;border:1px solid #24336e;z-index:1;
    }
    .player-info{flex:1;overflow:hidden;z-index:1}
    .player-title{font-weight:800;margin:0 0 4px 0;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .player-artist{font-size:13px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .player-controls{display:flex;align-items:center;gap:8px;z-index:1}
    .player-controls button{
      width:38px;height:38px;border-radius:10px;
      border:1px solid #24336e;background:#0f1736;color:#cfe1ff;
      display:flex;align-items:center;justify-content:center;
      cursor:pointer;transition:all .25s ease;
    }
    .player-controls button:hover{background:linear-gradient(90deg,var(--acc),var(--acc2));color:#051028;border:none}
    .player-controls svg{width:18px;height:18px;fill:currentColor}
    .player-controls .playing{background:linear-gradient(90deg,var(--acc),var(--acc2));color:#051028;border:none}
    .player-progress{display:flex;align-items:center;gap:6px;margin-top:6px;z-index:1}
    .player-progress .bar{flex:1;height:6px;border-radius:10px;background:#1c2652;overflow:hidden;position:relative;cursor:pointer}
    .player-progress .fill{
      height:100%;
      background:linear-gradient(90deg,var(--acc),var(--acc2));
      width:0%;
      transition:width 0.25s linear;
      box-shadow:0 0 8px var(--acc2);
    }
    .player-progress span{font-size:12px;color:var(--muted);min-width:32px;text-align:center}

    .tabs{display:flex;gap:8px;overflow-x:auto;padding-bottom:10px;border-bottom:1px solid var(--line);scrollbar-width:none;margin-bottom:18px}
    .tabs::-webkit-scrollbar{display:none}
    .tab{padding:8px 14px;border-radius:10px;background:#141a3b;color:var(--muted);font-weight:600;cursor:pointer;flex-shrink:0;white-space:nowrap}
    .tab.active{background:linear-gradient(90deg,var(--acc),var(--acc2));color:#04102a}
    .tab .count{
      margin-left:8px;padding:2px 8px;border-radius:999px;font-size:12px;font-weight:800;
      background:#1a2250;border:1px solid #2a3471;color:#bcd0ff;
    }

    .section{background:var(--surface);border:1px solid var(--line);border-radius:16px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.18)}
    .grid{display:grid;gap:16px;grid-template-columns:1fr;}
    .item{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:14px;display:flex;flex-direction:column;gap:10px}
    .title{font-weight:700;margin:0}
    .desc{color:var(--muted);font-size:14px;margin:0}
    .meta{display:flex;flex-direction:column;gap:6px}
    .pill{display:flex;align-items:flex-start;gap:6px;padding:6px 8px;border:1px solid var(--pill);
      border-radius:999px;color:#c6d2ff;font-size:12px;background:rgba(255,255,255,0.02);word-break:break-word}
    .pill b{color:#cfe1ff;white-space:nowrap;margin-right:4px}
    .pill .example-url{flex:1;white-space:normal;word-break:break-word;overflow-wrap:anywhere;line-height:1.5}
    .actions{display:flex;gap:8px;flex-wrap:wrap}
    .open{display:inline-flex;align-items:center;justify-content:center;background:linear-gradient(90deg,var(--acc),var(--acc2));
      color:#04102a;padding:9px 12px;border-radius:10px;font-weight:800;margin-top:auto;width:max-content}
    .codebtn{display:inline-flex;align-items:center;justify-content:center;background:#141a3b;border:1px solid var(--line);
      color:#cfe1ff;padding:9px 12px;border-radius:10px;font-weight:800;margin-top:auto}
    footer{margin-top:28px;color:var(--muted);font-size:13px;text-align:center}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <img class="logo" src="https://cdn.yupra.my.id/yp/rpvaywxy.jpg" alt="Logo" />
        <div>
          <h1 id="siteName">JunnAPIs</h1>
          <div class="tag">Free & Simple REST Endpoints â€” <b>Docs</b></div>
        </div>
      </div>
      <div style="display:flex;gap:10px;flex-wrap:wrap">
        <a id="repoLink" class="btn" target="_blank">GitHub</a>
        <a class="btn" href="/">Home</a>
      </div>
    </header>

    <!-- ðŸŽµ Player -->
    <div id="playerBox" class="player-box" style="display:none">
      <img id="pCover" class="player-cover" src="" alt="cover">
      <div class="player-info">
        <div id="pTitle" class="player-title">Loading...</div>
        <div id="pArtist" class="player-artist"></div>
        <div class="player-progress">
          <span id="pCurrent">0:00</span>
          <div id="pBar" class="bar"><div id="pBarFill" class="fill"></div></div>
          <span id="pDuration">0:00</span>
        </div>
      </div>
      <div class="player-controls">
        <button id="pPrev" title="Previous"><svg viewBox="0 0 24 24"><path d="M6 4v16l9-8zM19 4v16h-2V4z"/></svg></button>
        <button id="pPlay" title="Play/Pause">
          <svg id="iconPlay" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
          <svg id="iconPause" style="display:none" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
        </button>
        <button id="pNext" title="Next"><svg viewBox="0 0 24 24"><path d="M18 20V4l-9 8zM5 4v16h2V4z"/></svg></button>
      </div>
    </div>

    <div id="tabs" class="tabs"></div>
    <div id="content"></div>

    <footer>
      <div>Made by <b id="creator">juun4</b></div>
      <div class="social">
        <a id="socGH" target="_blank" rel="noreferrer">GitHub</a>
        <a id="socWA" target="_blank" rel="noreferrer">WhatsApp</a>
        <a id="socYT" target="_blank" rel="noreferrer">YouTube</a>
      </div>
    </footer>
  </div>

  <!-- ðŸ”Š Player Script -->
  <script>
  (async ()=>{
    const res = await fetch('/src/web-set.json',{cache:'no-store'});
    const cfg = await res.json();
    const music = cfg.musicSettings || {};
    const playlist = music.playlist || [];
    if(!playlist.length) return;

    const box = document.getElementById('playerBox');
    const pCover = document.getElementById('pCover');
    const pTitle = document.getElementById('pTitle');
    const pArtist = document.getElementById('pArtist');
    const pBar = document.getElementById('pBar');
    const pBarFill = document.getElementById('pBarFill');
    const pCurrent = document.getElementById('pCurrent');
    const pDuration = document.getElementById('pDuration');
    const btnPrev = document.getElementById('pPrev');
    const btnPlay = document.getElementById('pPlay');
    const btnNext = document.getElementById('pNext');
    const iconPlay = document.getElementById('iconPlay');
    const iconPause = document.getElementById('iconPause');
    const audio = new Audio();
    audio.volume = music.volume ?? 0.85;

    let index = 0;
    const fmt = s => isNaN(s) ? '0:00' : `${Math.floor(s/60)}:${String(Math.floor(s%60)).padStart(2,'0')}`;

    function load(i){
      const s = playlist[i];
      pCover.src = s.image || 'https://cdn.yupra.my.id/yp/rpvaywxy.jpg';
      pTitle.textContent = s.title || 'Unknown';
      pArtist.textContent = s.artist || '';
      audio.src = s.url;
      pBarFill.style.width='0%';
      pCurrent.textContent='0:00';
      pDuration.textContent='0:00';
      iconPlay.style.display='block';
      iconPause.style.display='none';
      btnPlay.classList.remove('playing');
    }

    load(index);
    box.style.display='flex';

    btnPlay.onclick = ()=>{
      if(audio.paused){
        audio.play();
        iconPlay.style.display='none';
        iconPause.style.display='block';
        btnPlay.classList.add('playing');
      } else {
        audio.pause();
        iconPlay.style.display='block';
        iconPause.style.display='none';
        btnPlay.classList.remove('playing');
      }
    };
    btnNext.onclick=()=>{index=(index+1)%playlist.length;load(index);audio.play();iconPlay.style.display='none';iconPause.style.display='block';btnPlay.classList.add('playing');};
    btnPrev.onclick=()=>{index=(index-1+playlist.length)%playlist.length;load(index);audio.play();iconPlay.style.display='none';iconPause.style.display='block';btnPlay.classList.add('playing');};

    audio.ontimeupdate=()=>{
      if(audio.duration){
        pBarFill.style.width=`${(audio.currentTime/audio.duration)*100}%`;
        pCurrent.textContent=fmt(audio.currentTime);
        pDuration.textContent=fmt(audio.duration);
      }
    };
    pBar.onclick=(e)=>{
      const x=e.offsetX/pBar.offsetWidth;
      audio.currentTime=x*audio.duration;
    };
    audio.onended=()=>btnNext.click();
  })();
  </script>
</body>
</html>
